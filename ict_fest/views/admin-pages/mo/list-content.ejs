<div class="right_col" role="main">
  <!-- top tiles -->
  <div class="col-md-12 col-sm-12">
    <div class="x_panel">
      <div class="x_title">
        <h2>Math Olympiad<small>Participant's list</small></h2>
        <ul class="nav navbar-right panel_toolbox">
          <li>
            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
          </li>
        </ul>
        <div class="clearfix"></div>
      </div>
      <div class="x_content">
        <br />
        <% let success = "Data has been deleted succesfully"%>
        <%if(message.length>0){if(message==success){%>
        <div class="alert alert-success"><%=message%></div>
        <%}else{%>
        <div class="alert alert-danger"><%=message%></div>
        <%}%> <%}%>
        <div class="row">
          <div class="col-sm-12">
            <div class="card-box table-responsive">
              <p class="text-muted font-13 m-b-30">
                Responsive is an extension for DataTables that resolves that
                problem by optimising the table's layout for different screen
                sizes through the dynamic insertion and removal of columns from
                the table.
              </p>

              <table
                id="datatable-responsive"
                class="table table-striped table-bordered dt-responsive nowrap"
                cellspacing="0"
                width="100%"
              >
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Contact</th>
                    <th>Category</th>
                    <th>Institution</th>
                    <th>T-shirt</th>
                    <th>Total</th>
                    <th>Paid</th>
                    <th>Selected</th>
                    <th>Payment Status</th>
                    <th>Select</th>
                    <th>Payment Done</th>
                    <th>Edit</th>
                    <th>Delete</th>
                  </tr>
                </thead>
                <tbody>
                  <% if(participants.length>0){
                  participants.forEach(participant=>{%>
                  <tr>
                    <td><%= participant.name %></td>
                    <td><%= participant.email %></td>
                    <td><%= participant.contact %></td>
                    <td><%= participant.category %></td>
                    <td><%= participant.institution %></td>
                    <td><%= participant.tshirt %></td>
                    <td><%= participant.total %></td>
                    <td><%= participant.paid %></td>
                    <td><%= participant.selected %></td>
                    <td>
                      <% if (participant.paid==participant.total){%>
                      <p style="color: greenyellow">Successful</p>
                      <%}else{%>
                      <p style="color: brown;">Incomplete</p>
                      <%}%>
                    </td>
                    <td>Select</td>
                    <td>Payment Done</td>
                    <td>Edit</td>
                    <td>
                      <% const deleteURL = 'delete/' +
                      participant._id %>
                      <a href="<%= deleteURL %>"
                        ><i class="fa fa-trash"></i>
                        <span class="fa fa-chevron"></span>
                      </a>
                    </td>
                  </tr>
                  <% }) } %>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
